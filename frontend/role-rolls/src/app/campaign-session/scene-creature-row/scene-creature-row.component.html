<div class="p-inputgroup">
  <p-inputGroupAddon>
    <button pButton icon="pi pi-minus" *ngIf="isMaster" (click)="removeCreature(creature)"></button>
  </p-inputGroupAddon>
  <p-inputGroupAddon>
    <button pButton class="p-button-secondary" (click)='editCreature(creature)'>
      {{creature.name}}
    </button>
  </p-inputGroupAddon>
  <ng-container *ngFor="let vitality of creature.vitalities">
    <p-inputGroupAddon *ngIf="isMaster || isOwner(creature) || true">
      {{vitality.name}} | {{vitality.value}}
    </p-inputGroupAddon>
  </ng-container>
  <p-inputGroupAddon *ngIf="isMaster || isOwner(creature)">
    <button pButton icon="fas fa-dice-d20" pTooltip="Roll dice"
            (click)="selectCreatureForRoll(creature); rollPanel.toggle($event)"></button>
  </p-inputGroupAddon>
  <p-inputGroupAddon *ngIf="isMaster || isOwner(creature)">
    <button pButton icon="fas fa-tint" pTooltip="Damage/Heal"
            (click)="takeDamage(creature)"></button>
  </p-inputGroupAddon>
  <p-inputGroupAddon *ngIf="isMaster || isOwner(creature)">
    <button pButton icon="fa-sword" pTooltip="Attack"
            (click)="attack(creature)"></button>
  </p-inputGroupAddon>
  <p-inputGroupAddon *ngIf="isMaster">
    <button pButton icon="fas fa-calculator" pTooltip="Simulate CD"
            (click)="selectCreatureForSimulateCd(creature); simulateCdPanel.toggle($event)"></button>
  </p-inputGroupAddon>
  <p-inputGroupAddon *ngIf="isMaster || isOwner(creature)">
    <button pButton icon="fas fa-dice" pTooltip="Quick Roll"
            (click)="quickRoll(creature)"></button>
  </p-inputGroupAddon>

</div>


    <p-tieredMenu #rollPanel [model]="rollOptions" [popup]="true" ></p-tieredMenu>
<p-tieredMenu #simulateCdPanel [model]="simluateCdOptions" [popup]="true"></p-tieredMenu>
<p-drawer [(visible)]="displayRollSidebar" position="right" [modal]="false" appendTo="body" [style]="{width:'60em'}">
  <rr-roll-dice [rollInputEmitter]="rollInputEmitter" [rollResultEmitter]="rollResultEmitter" [campaign]="campaign" [scene]="scene"></rr-roll-dice>
</p-drawer>

<p-drawer [(visible)]="displaySimulateCdSidebar" position="right" [modal]="false"  [style]="{width:'60em'}">
  <rr-simulate-cd [simulateInputEmitter]="simulateCdInputEmitter" [simulateResultEmitter]="simulateCdResultEmitter" [campaign]="campaign" [scene]="scene"></rr-simulate-cd>
</p-drawer>
<p-drawer [dismissible]="false"  [(visible)]="displayAttackSidebar" (onHide)="attack(null)" position="right" [modal]="false" [style]="{width:'60em'}"
>
  <rr-attack
    [attacker]="attacker()"
    [showMe]="displayAttackSidebar()"
    [campaign]="campaign"
    [scene]="scene"></rr-attack>
</p-drawer>

<p-drawer [(visible)]="displayTakeDamageSidebar" [fullScreen]="false" position="right" [modal]="false">
  <rr-vitality-manager [inputEmitter]="takeDamageInputEmitter" [campaign]="campaign" [scene]="scene"></rr-vitality-manager>
</p-drawer>


